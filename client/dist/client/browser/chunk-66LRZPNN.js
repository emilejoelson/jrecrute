import{b as L}from"./chunk-VMNCUOGB.js";import{b as T,d as N,h as P}from"./chunk-AA5UGRVV.js";import"./chunk-PZKXZ6XN.js";import{j as y,l as k,r as O}from"./chunk-E3YMVHEH.js";import{c as I,d as R}from"./chunk-UXTP3TYX.js";import{Aa as C,Ac as S,Bc as c,Cb as M,Cc as l,Nb as p,Xb as t,Yb as o,Zb as m,ac as _,dc as w,ec as f,mb as r,oa as d,oc as a,pc as g,qc as u,xa as b,xb as E,ya as h,za as v}from"./chunk-VJULP7QK.js";var V=(n,i,e)=>({"border-t-4 border-indigo-400":n,"border-t-4 border-purple-500":i,"border-t-4 border-red-500":e});function B(n,i){n&1&&(t(0,"div",3),m(1,"div",4),t(2,"p",5),a(3),c(4,"translate"),o()()),n&2&&(r(3),g(l(4,1,"NEWSLETTER.CONFIRMING")))}function H(n,i){if(n&1){let e=_();t(0,"div",3)(1,"div",6),v(),t(2,"svg",7),m(3,"path",8),o()(),C(),t(4,"h2",9),a(5),c(6,"translate"),o(),t(7,"p",10),a(8),c(9,"translate"),o(),t(10,"button",11),w("click",function(){b(e);let x=f();return h(x.navigateToHome())}),a(11),c(12,"translate"),o()()}n&2&&(r(5),g(l(6,3,"NEWSLETTER.SUCCESS")),r(3),u(" ",l(9,5,"NEWSLETTER.CONFIRMED")," "),r(3),u(" ",l(12,7,"NEWSLETTER.RETURN_HOME")," "))}function W(n,i){if(n&1){let e=_();t(0,"div",3)(1,"div",12),v(),t(2,"svg",13),m(3,"path",14),o()(),C(),t(4,"h2",9),a(5,"Oops!"),o(),t(6,"p",10),a(7),o(),t(8,"button",11),w("click",function(){b(e);let x=f();return h(x.navigateToHome())}),a(9),c(10,"translate"),o()()}if(n&2){let e=f();r(7),g(e.errorMessage),r(2),u(" ",l(10,2,"NEWSLETTER.RETURN_HOME")," ")}}var j=class n{loading=!0;confirmationSuccess=!1;confirmationError=!1;errorMessage="The confirmation link appears to be invalid or has expired. Please try subscribing again.";route=d(T);router=d(N);newsletterService=d(L);ngOnInit(){this.route.queryParams.subscribe(i=>{let e=i.token;e?this.confirmSubscription(e):this.showError("No confirmation token found in the URL.")})}confirmSubscription(i){this.newsletterService.confirmSubscription(i).subscribe({next:e=>{this.loading=!1,this.confirmationSuccess=!0},error:e=>{this.loading=!1,this.confirmationError=!0,e.error&&e.error.message&&(this.errorMessage=e.error.message)}})}showError(i){this.loading=!1,this.confirmationError=!0,this.errorMessage=i}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-confirm-newsletter"]],decls:5,vars:8,consts:[[1,"flex","justify-center","items-center","md:min-h-screen","bg-gray-50","p-5"],[1,"w-full","max-w-md","p-8","bg-white","rounded-lg","shadow-lg","text-center","transition-all","duration-300",3,"ngClass"],["class","flex flex-col items-center",4,"ngIf"],[1,"flex","flex-col","items-center"],[1,"w-16","h-16","mb-4","rounded-full","border-4","border-gray-200","border-t-purple-500","animate-spin"],[1,"text-gray-600"],[1,"flex","justify-center","items-center","w-20","h-20","rounded-full","bg-purple-100","mb-5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","text-purple-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-2xl","font-semibold","text-gray-800","mb-3"],[1,"text-gray-600","mb-6"],[1,"px-6","py-3","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","transition-colors","duration-300","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:ring-opacity-50",3,"click"],[1,"flex","justify-center","items-center","w-20","h-20","rounded-full","bg-red-100","mb-5"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-10","h-10","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1),M(2,B,5,3,"div",2)(3,H,13,9,"div",2)(4,W,11,4,"div",2),o()()),e&2&&(r(),p("ngClass",S(4,V,s.loading,s.confirmationSuccess,s.confirmationError)),r(),p("ngIf",s.loading),r(),p("ngIf",s.confirmationSuccess),r(),p("ngIf",s.confirmationError))},dependencies:[P,O,y,k,R,I],styles:[".confirm-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f7fa;padding:20px}.confirm-box[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:40px;background-color:#fff;border-radius:10px;box-shadow:0 2px 20px #0000001a;text-align:center;transition:all .3s ease}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:20px;border:5px solid #f3f3f3;border-top:5px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.icon-success[_ngcontent-%COMP%], .icon-error[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:80px;height:80px;border-radius:50%;margin-bottom:20px}.icon-success[_ngcontent-%COMP%]{background-color:#e8f5e9}.icon-error[_ngcontent-%COMP%]{background-color:#ffebee}.checkmark[_ngcontent-%COMP%]{color:#4caf50;font-size:40px}.crossmark[_ngcontent-%COMP%]{color:#f44336;font-size:40px}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:15px}p[_ngcontent-%COMP%]{color:#666;line-height:1.6;margin-bottom:25px}.btn-home[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:12px 24px;border-radius:5px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.btn-home[_ngcontent-%COMP%]:hover{background-color:#2980b9}.success[_ngcontent-%COMP%]{border-top:5px solid #4caf50}.error[_ngcontent-%COMP%]{border-top:5px solid #f44336}"]})};export{j as ConfirmNewsletterComponent};
