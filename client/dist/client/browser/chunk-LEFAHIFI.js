import{b as B,c as V,m as A}from"./chunk-QO7PYKGR.js";import{d as T}from"./chunk-SHDISBZ6.js";import{a as $}from"./chunk-HMH3CETV.js";import{A as D,C as H,E as z,M as U,N as q,O as W,p as N,x as C}from"./chunk-DKQUP4ZW.js";import"./chunk-2QM7AMXF.js";import{k as P,p as G}from"./chunk-JPPVI7S5.js";import{c as j,d as R}from"./chunk-SQMKQ3YE.js";import{Aa as w,Ib as u,Nb as g,Pb as k,Qb as F,Rb as O,Sb as n,Tb as s,Ub as m,Xb as M,Yb as f,Zb as c,dc as p,e as y,ec as x,fc as b,jb as r,kb as v,nc as E,qc as a,rc as l,tb as L,xa as S,ya as I,yb as _,za as d}from"./chunk-LGAK75AS.js";var J=i=>({"bg-green-500 hover:bg-green-600":i});function K(i,o){if(i&1){let e=M();n(0,"div")(1,"app-custom-input",19),a(2,"translate"),f("togglePassword",function(){S(e);let h=c(2);return I(h.togglePasswordVisibility())}),s()()}if(i&2){let e=c().$implicit,t=c();r(),u("id",e.id)("classInput",e.classControl)("classLabel",e.classLabel)("title",l(2,9,e.title))("control",t.loginForm.get(e.id))("formGroup",t.loginForm)("type",t.passwordVisibility?"text":"password")("placeholder",e.placeholder||"")("hasTogglePassword",!0)}}function Q(i,o){if(i&1&&(m(0,"app-custom-input",18),a(1,"translate")),i&2){let e=c().$implicit,t=c();u("id",e.id)("classInput",e.classControl)("classLabel",e.classLabel)("title",l(1,7,e.title))("control",t.loginForm.get(e.id))("formGroup",t.loginForm)("placeholder",e.placeholder||"")}}function X(i,o){if(i&1&&(n(0,"div"),_(1,K,3,11,"div")(2,Q,2,9,"app-custom-input",18),s()),i&2){let e=o.$implicit;r(),g(e.type==="password"?1:2)}}function Z(i,o){i&1&&(d(),n(0,"svg",20),m(1,"circle",21)(2,"path",22),s(),w(),n(3,"span"),p(4,"Connexion en cours..."),s())}function ee(i,o){i&1&&(d(),n(0,"svg",23),m(1,"path",24),s(),w(),n(2,"span"),p(3),a(4,"translate"),s()),i&2&&(r(3),b("",l(4,1,"LOGIN_WITH_SUCCESS"),"!"))}function te(i,o){i&1&&(n(0,"span"),p(1),a(2,"translate"),s(),d(),n(3,"svg",25),m(4,"path",26),s()),i&2&&(r(),x(l(2,1,"LOGIN.LOGIN")))}var Y=class i{constructor(o,e,t){this.fb=o;this.router=e;this.store=t;this.initForm()}loginForm;isSubmitting=!1;isSuccess=!1;passwordVisibility=!1;loginError=null;commonInputClass="peer w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-200 focus:outline-none focus:border-purple-500 appearance-none";commonLabelClass="left-3 -top-2.5 text-sm text-gray-600 bg-white px-1";subscriptions=new y;formFields={accountInfo:[{id:"email",type:"email",title:"SIGNUP.EMAIL",classControl:this.commonInputClass,classLabel:this.commonLabelClass,placeholder:"votre.email@exemple.com"},{id:"password",type:"password",title:"SIGNUP.PASSWORD",classControl:this.commonInputClass,classLabel:this.commonLabelClass,placeholder:"Entrez votre mot de passe"}]};ngOnInit(){this.subscriptions.add(this.store.select(V).subscribe(o=>{this.isSubmitting=o})),this.subscriptions.add(this.store.select(B).subscribe(o=>{this.isSuccess=o}))}ngOnDestroy(){this.subscriptions.unsubscribe()}onSignup(){this.router.navigate(["/inscription"]),window.scrollTo(0,0)}initForm(){let o={};this.formFields.accountInfo.forEach(e=>{let t=[C.required];e.id==="email"&&t.push(C.email),o[e.id]=["",t]}),this.loginForm=this.fb.group(o)}togglePasswordVisibility(){this.passwordVisibility=!this.passwordVisibility}onSubmit(){if(this.loginForm.valid){let o={email:this.loginForm.get("email")?.value,password:this.loginForm.get("password")?.value};this.store.dispatch(A.login(o))}else Object.keys(this.loginForm.controls).forEach(o=>{this.loginForm.get(o)?.markAsTouched()})}forgotPassword(){this.router.navigate(["/reset-password"])}static \u0275fac=function(e){return new(e||i)(v(U),v(T),v(N))};static \u0275cmp=L({type:i,selectors:[["app-login"]],decls:35,vars:23,consts:[[1,"md:flex","items-center","justify-center"],[1,"bg-white","md:rounded-3xl","md:shadow-2xl","max-w-md","w-full","p-6","md:p-8"],[1,"flex","justify-center","mb-8"],[1,"text-3xl","font-bold","text-indigo-800"],[1,"bg-indigo-100","p-3","rounded-full"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8","text-indigo-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["type","checkbox","id","remember",1,"form-checkbox","h-4","w-4","text-indigo-600","rounded","border-gray-300","focus:ring-indigo-500"],["for","remember",1,"ml-2","text-sm","text-gray-700"],["type","button",1,"text-indigo-600","text-sm","hover:underline",3,"click"],["type","submit",1,"w-full","bg-[#60A5FA]","hover:bg-app-primary-purple","text-white","py-3","px-4","rounded-xl","font-medium","text-lg","flex","items-center","justify-center","transition-all","duration-300","transform","hover:scale-[1.02]",3,"disabled","ngClass"],[1,"text-center","mt-8"],[1,"text-gray-600"],[1,"text-indigo-600","cursor-pointer","hover:underline","font-medium",3,"click"],[3,"id","classInput","classLabel","title","control","formGroup","placeholder"],[3,"togglePassword","id","classInput","classLabel","title","control","formGroup","type","placeholder","hasTogglePassword"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","mr-2","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5","ml-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 5l7 7m0 0l-7 7m7-7H3"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),p(4),a(5,"translate"),s()(),n(6,"div",2)(7,"div",4),d(),n(8,"svg",5),m(9,"path",6),s()()(),w(),n(10,"form",7),f("ngSubmit",function(){return t.onSubmit()}),n(11,"div",8),F(12,X,3,1,"div",null,k),s(),n(14,"div",9)(15,"div",10),m(16,"input",11),n(17,"label",12),p(18),a(19,"translate"),s()(),n(20,"button",13),f("click",function(){return t.forgotPassword()}),p(21),a(22,"translate"),s()(),n(23,"div")(24,"button",14),_(25,Z,5,0)(26,ee,5,3)(27,te,5,3),s()()(),n(28,"div",15)(29,"p",16),p(30),a(31,"translate"),n(32,"button",17),f("click",function(){return t.onSignup()}),p(33),a(34,"translate"),s()()()()()),e&2&&(r(4),x(l(5,11,"LOGIN.TITLE")),r(6),u("formGroup",t.loginForm),r(2),O(t.formFields.accountInfo),r(6),b(" ",l(19,13,"LOGIN.REMEMBER_ME")," "),r(3),b(" ",l(22,15,"LOGIN.FORGOT_PASSWORD")," "),r(3),u("disabled",t.isSubmitting)("ngClass",E(21,J,t.isSuccess)),r(),g(t.isSubmitting?25:-1),r(),g(t.isSuccess&&!t.isSubmitting?26:-1),r(),g(!t.isSubmitting&&!t.isSuccess?27:-1),r(3),b(" ",l(31,17,"LOGIN.NO_ACCOUNT")," "),r(3),x(l(34,19,"LOGIN.SIGN_UP")))},dependencies:[G,P,W,H,D,z,q,$,R,j],styles:['[_nghost-%COMP%]{min-height:100vh;padding:3rem 1rem;background-image:linear-gradient(135deg,#f0f4f8,#e5e9f2)}@media (max-width: 650px){[_nghost-%COMP%]{padding:0}}.form-checkbox[_ngcontent-%COMP%]:checked{background-color:#6366f1;border-color:#6366f1}button[type=submit][_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s}button[type=submit][_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .6s}button[type=submit][_ngcontent-%COMP%]:hover:before{left:100%}button[type=submit][_ngcontent-%COMP%]:disabled{background:#9ca3af;cursor:not-allowed}.social-btn[_ngcontent-%COMP%]{display:inline-flex;width:100%;justify-content:center;border-radius:.375rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.social-btn[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.social-btn[_ngcontent-%COMP%]{transition:all .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}']})};export{Y as LoginComponent};
