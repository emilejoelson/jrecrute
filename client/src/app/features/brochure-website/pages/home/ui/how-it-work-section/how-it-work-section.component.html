<section
  class="relative bg-white p-app-secondary-padding xl:p-app-primary-padding"
>
  <div class="p-6 bg-white rounded-lg">
    <!-- Titre principal -->
    <h1 class="text-2xl font-bold text-gray-800 sm:text-3xl lg:text-4xl">
      Un processus de recrutement optimisé et transparent
    </h1>

    <!-- Sous-titre -->
    <h2
      class="pt-4 pb-6 text-lg font-medium text-purple-500 lg:text-xl xl:pt-6 xl:pb-8"
    >
      Un parcours structuré pour réussir !
    </h2>

    <!-- Paragraphe -->
    <p
      class="text-sm text-gray-600 leading-6 max-w-[600px] pb-8 lg:text-lg lg:leading-10 xl:pb-14"
    >
      Nous avons élaboré une approche rigoureuse et performante pour vous
      accompagner à chaque étape, en vous offrant toutes les garanties
      nécessaires pour postuler avec confiance et détermination.
    </p>

    <div class="w-fit absolute custom-650:hidden text-sm xl:text-lg">
      <button
        (click)="onDeposit()"
        class="block text-center cursor-pointer bg-app-primary-purple text-white border border-purple-700 w-full tracking-wide px-6 py-3 rounded-xl font-medium transition-colors duration-300 ease-out hover:bg-purple-700 hover:border-purple-800"
      >
        Déposer votre CV
      </button>
    </div>
  </div>

  @defer (on viewport) {
  <div class="hidden lg:block lg:mt-[-150px] xl:mt-[-200px]">
    <app-home-how-it-work-image />
  </div>
  } @placeholder {
  <div></div>
  } @defer (on viewport) {
  <ul class="flex flex-col gap-8 mt-8 max-w-[600px] lg:hidden">
    <li
      class="step max-w-[350px]"
      [class.show-up-animation]="isVisible"
      style="--item-index: 0"
    >
      <div class="flex gap-4">
        <span>
          <svg
            width="35"
            height="72"
            viewBox="0 0 35 72"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              opacity="0.3"
              d="M35 0V72H17.3692V18.7912L0 23.5879V10.9286L33.3782 0H35Z"
              fill="url(#paint0_linear_925_1065)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_925_1065"
                x1="17.5"
                y1="0"
                x2="17.2565"
                y2="101.235"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7263D8" />
                <stop offset="1" stop-color="#CDB9FD" stop-opacity="0.38" />
              </linearGradient>
            </defs>
          </svg>
        </span>
        <h3
          class="font-bold text-app-primay-dark tracking-[1.25px] text-lg h-fit mt-auto"
        >
          Remplissage du formulaire
        </h3>
      </div>
      <p class="mt-4 text-gray-800 text-normal text-sm leading-[28px]">
        Il vous suffit de remplir le formulaire en ligne et de déposer votre CV,
        une démarche rapide et sécurisée.
      </p>
    </li>

    <li
      class="step max-w-[350px] self-end"
      [class.show-up-animation]="isVisible"
      style="--item-index: 1"
    >
      <div class="flex flex-row-reverse gap-4">
        <span>
          <svg
            width="50"
            height="72"
            viewBox="0 0 50 72"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              opacity="0.3"
              d="M50 59.3257V72H1.43403V61.2756L23.805 37.2918C25.7808 34.9844 27.3741 32.9208 28.5851 31.1009C29.796 29.2485 30.6724 27.5748 31.2141 26.0799C31.7878 24.585 32.0746 23.2363 32.0746 22.0339C32.0746 19.9865 31.7718 18.2803 31.1663 16.9154C30.5927 15.5179 29.7323 14.4617 28.5851 13.7468C27.4697 13.0318 26.0835 12.6743 24.4264 12.6743C22.7693 12.6743 21.3193 13.1618 20.0765 14.1368C18.8337 15.1117 17.8617 16.4441 17.1606 18.1341C16.4914 19.824 16.1568 21.7251 16.1568 23.8375H0C0 19.4827 1.03569 15.5017 3.10707 11.8944C5.21033 8.28707 8.12619 5.41097 11.8547 3.26608C15.5832 1.08869 19.9012 0 24.8088 0C29.9395 0 34.2416 0.812458 37.7151 2.43737C41.1887 4.06229 43.8018 6.41842 45.5545 9.50576C47.3391 12.5606 48.2314 16.2492 48.2314 20.5714C48.2314 23.0413 47.8489 25.4137 47.0841 27.6886C46.3193 29.9634 45.2199 32.2221 43.7859 34.4645C42.3518 36.6743 40.5991 38.9492 38.5277 41.2891C36.4882 43.629 34.1619 46.1151 31.5488 48.7475L22.5621 59.3257H50Z"
              fill="url(#paint0_linear_925_1068)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_925_1068"
                x1="25"
                y1="0"
                x2="24.8295"
                y2="101.235"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7263D8" />
                <stop offset="1" stop-color="#CDB9FD" stop-opacity="0.38" />
              </linearGradient>
            </defs>
          </svg>
        </span>
        <h3
          class="font-bold text-app-primay-dark tracking-[1.25px] text-lg h-fit mt-auto"
        >
          Analyse du profil
        </h3>
      </div>
      <p class="mt-4 text-gray-800 text-normal text-sm leading-[28px]">
        Nous examinons votre profil pour nous assurer de sa correspondance avec
        le poste que vous avez choisi, en tenant compte de vos compétences et de
        vos expériences.
      </p>
    </li>

    <li
      class="step max-w-[350px]"
      [class.show-up-animation]="isVisible"
      style="--item-index: 2"
    >
      <div class="flex gap-4">
        <span>
          <svg
            width="51"
            height="73"
            viewBox="0 0 51 73"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              opacity="0.3"
              d="M16.8233 29.6486H24.7287C26.7533 29.6486 28.4083 29.291 29.6938 28.5758C31.0113 27.8281 31.9915 26.7878 32.6342 25.4549C33.2769 24.0895 33.5983 22.4803 33.5983 20.6273C33.5983 19.1968 33.293 17.8802 32.6824 16.6774C32.104 15.4745 31.2042 14.5155 29.983 13.8003C28.7618 13.0525 27.2032 12.6787 25.3072 12.6787C24.0217 12.6787 22.7684 12.955 21.5473 13.5077C20.3261 14.0278 19.3138 14.7756 18.5104 15.7508C17.7391 16.7261 17.3535 17.9127 17.3535 19.3106H1.06049C1.06049 15.2794 2.15312 11.8334 4.33837 8.97261C6.55577 6.07927 9.46408 3.86863 13.0633 2.34068C16.6947 0.780227 20.5992 0 24.7769 0C29.758 0 34.1285 0.780227 37.8885 2.34068C41.6484 3.86863 44.5728 6.14429 46.6616 9.16767C48.7826 12.1585 49.8431 15.8646 49.8431 20.2859C49.8431 22.7241 49.2807 25.016 48.156 27.1617C47.0312 29.3073 45.4565 31.1928 43.4319 32.8183C41.4074 34.4438 39.0293 35.7279 36.2977 36.6707C33.5983 37.5809 30.6418 38.0361 27.4282 38.0361H16.8233V29.6486ZM16.8233 41.8884V33.6961H27.4282C30.931 33.6961 34.1285 34.1024 37.0208 34.9152C39.913 35.6954 42.4036 36.8657 44.4924 38.4262C46.5813 39.9866 48.1881 41.921 49.3129 44.2291C50.4376 46.5048 51 49.1218 51 52.0802C51 55.3961 50.3412 58.3545 49.0236 60.9552C47.706 63.556 45.8582 65.7504 43.4801 67.5384C41.1021 69.3264 38.3223 70.6918 35.1408 71.6346C31.9594 72.5449 28.5047 73 24.7769 73C21.8526 73 18.9282 72.6099 16.0038 71.8297C13.0794 71.0169 10.4121 69.7816 8.00189 68.1236C5.59168 66.4331 3.64745 64.2875 2.16919 61.6867C0.723062 59.0534 0 55.9163 0 52.2752H16.293C16.293 53.7707 16.6947 55.136 17.4981 56.3714C18.3336 57.5743 19.4423 58.5333 20.8242 59.2485C22.206 59.9637 23.7004 60.3213 25.3072 60.3213C27.2996 60.3213 28.9868 59.9474 30.3686 59.1997C31.7826 58.4195 32.8592 57.3792 33.5983 56.0788C34.3374 54.7784 34.707 53.3318 34.707 51.7388C34.707 49.3331 34.3053 47.4151 33.5019 45.9846C32.7306 44.5542 31.5898 43.5139 30.0794 42.8637C28.6011 42.2135 26.8176 41.8884 24.7287 41.8884H16.8233Z"
              fill="url(#paint0_linear_925_1069)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_925_1069"
                x1="25.5"
                y1="0"
                x2="25.3282"
                y2="102.641"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7263D8" />
                <stop offset="1" stop-color="#CDB9FD" stop-opacity="0.38" />
              </linearGradient>
            </defs>
          </svg>
        </span>
        <h3
          class="font-bold text-app-primay-dark tracking-[1.25px] text-lg h-fit mt-auto"
        >
          Entretien
        </h3>
      </div>
      <p class="mt-4 text-app-primay-dark text-normal text-sm leading-[28px]">
        Un entretien téléphonique vous permettra de faire connaissance, suivi
        d'un entretien en visioconférence pour approfondir l'échange.
      </p>
    </li>
    <li
      class="step max-w-[350px] self-end"
      [class.show-up-animation]="isVisible"
      style="--item-index: 3"
    >
      <div class="flex flex-row-reverse gap-4">
        <span>
          <svg
            width="100"
            height="100"
            viewBox="0 0 150 150"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              opacity="0.3"
              d="M124.5 15V142H93.2683V65L62.5 89.5H30L124.5 13V15Z"
              fill="url(#paint0_linear_22_2)"
            />
            <path
              opacity="0.3"
              d="M43.6793 81H95.1561H142V99H66.4129L55.0042 99H20L40.0759 81H43.6793Z"
              fill="url(#paint1_linear_22_2)"
            />
            <defs>
              <linearGradient
                id="paint0_linear_22_2"
                x1="93.5"
                y1="15"
                x2="93.0723"
                y2="193.567"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7263D8" />
                <stop offset="1" stop-color="#CDB9FD" stop-opacity="0.38" />
              </linearGradient>
              <linearGradient
                id="paint1_linear_22_2"
                x1="17.3304"
                y1="98.7781"
                x2="192.621"
                y2="99.2085"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#7263D8" />
                <stop offset="1" stop-color="#CDB9FD" stop-opacity="0.38" />
              </linearGradient>
            </defs>
          </svg>
        </span>
        <h3
          class="font-bold text-app-primay-dark tracking-[1.25px] text-lg h-fit mt-auto"
        >
          Validation et mise en relation
        </h3>
      </div>
      <p class="mt-4 text-gray-800 text-normal text-sm leading-[28px]">
        Une fois le processus validé, nous vous mettons en relation avec
        l'entreprise pour finaliser votre recrutement.
      </p>
    </li>
  </ul>
  } @placeholder {
  <ul></ul>
  }

  <div class="sm:hidden mt-10 w-fit custom-650:w-full text-sm xl:text-lg">
    <a
      (click)="onDeposit()"
      class="block text-center bg-app-primary-purple text-white border border-purple-700 w-full tracking-wide px-6 py-3 rounded-xl font-medium transition-colors duration-300 ease-out hover:bg-purple-700 hover:border-purple-800"
    >
      Déposer votre CV
    </a>
  </div>
</section>
