<section
  class="grid gap-4 grid-cols-1 p-app-secondary-padding sm:gap-6 lg:grid-cols-3 lg:gap-8 xl:p-app-primary-padding"
>
  <!-- left -->
  <div class="lg:col-start-1 lg:col-end-2">
    <h1
      class="font-bold text-app-primay-dark text-xl leading-[24px] sm:leading-[32px] sm:text-2xl lg:leading-[42px] lg:text-3xl xl:leading-[52px] xl:text-[44px]"
    >
      DÃ©couvrez ce que nos clients disent de nous
    </h1>
    <div class="flex justify-end -scale-x-100 lg:scale-x-100">
      <app-curved-arrow-v2 />
    </div>
  </div>
  <!-- right -->
  <div class="flex gap-2 sm:gap-4 lg:gap-8 lg:col-start-2 lg:col-end-4">
    @defer (on viewport) {
      <ul>
        @for (
          testimonial of testimonialsData.slice(0, 2);
          track testimonial.id
        ) {
          <li
            class="card card-{{
              $index + 1
            }} relative w-[95%] flex transform flex-col gap-3 p-4 rounded-lg {{
              $index === 0
                ? 'bg-white z-10'
                : 'bg-[rgba(205,185,253,0.18)] z-0 blur-[1px]'
            }} sm:p-6"
            style="
              box-shadow:
                0px 10px 20px -2px rgba(0, 0, 0, 0.04),
                0px 2px 15px -3px rgba(0, 0, 0, 0.07);
              --card-index: $index;
            "
          >
            <!-- icon -->
            <div class="flex items-center">
              <span>
                <svg
                  width="10"
                  height="18"
                  viewBox="0 0 10 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.84422 0L10 2.54348C7.85595 3.45652 6.26466 4.61413 5.22613 6.0163C4.18761 7.38587 3.66834 9.08152 3.66834 11.1033L4.62312 15.6033L1.80905 11.7391C2.21106 11.2826 2.66332 10.9728 3.16583 10.8098C3.63484 10.6793 4.1206 10.6141 4.62312 10.6141C5.32663 10.6141 5.9799 10.7446 6.58291 11.0054C7.18593 11.2989 7.67169 11.7065 8.0402 12.2283C8.37521 12.7826 8.54271 13.4674 8.54271 14.2826C8.54271 15.4891 8.1407 16.4022 7.33668 17.0217C6.53266 17.6739 5.59464 18 4.52261 18C3.04858 18 1.9263 17.4293 1.15578 16.288C0.385262 15.1793 0 13.663 0 11.7391C0 8.86957 0.787271 6.45652 2.36181 4.5C3.93635 2.51087 6.09715 1.01087 8.84422 0Z"
                    fill="#7263D8"
                  />
                </svg>
              </span>
              <span>
                <svg
                  width="10"
                  height="18"
                  viewBox="0 0 10 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M8.84422 0L10 2.54348C7.85595 3.45652 6.26466 4.61413 5.22613 6.0163C4.18761 7.38587 3.66834 9.08152 3.66834 11.1033L4.62312 15.6033L1.80905 11.7391C2.21106 11.2826 2.66332 10.9728 3.16583 10.8098C3.63484 10.6793 4.1206 10.6141 4.62312 10.6141C5.32663 10.6141 5.9799 10.7446 6.58291 11.0054C7.18593 11.2989 7.67169 11.7065 8.0402 12.2283C8.37521 12.7826 8.54271 13.4674 8.54271 14.2826C8.54271 15.4891 8.1407 16.4022 7.33668 17.0217C6.53266 17.6739 5.59464 18 4.52261 18C3.04858 18 1.9263 17.4293 1.15578 16.288C0.385262 15.1793 0 13.663 0 11.7391C0 8.86957 0.787271 6.45652 2.36181 4.5C3.93635 2.51087 6.09715 1.01087 8.84422 0Z"
                    fill="#7263D8"
                  />
                </svg>
              </span>
            </div>
            <!-- comment -->
            <p
              class="font-normal text-sm text-app-primay-dark leading-[24px] sm:text-lg lg:text-xl lg:leading-[37px]"
            >
              {{ testimonial.comment }}
            </p>
            <!-- name and photo -->
            <div class="flex items-center gap-2">
              <!-- photo -->
              <div
                class="w-10 h-10 rounded-full overflow-hidden border border-solid border-app-highlight-dark"
              >
                <img
                  src="assets/images/{{ testimonial.picture }}"
                  alt="{{ testimonial.name }} photo"
                  class="w-full h-full object-cover"
                />
              </div>
              <!-- name -->
              <div class="flex flex-col gap-1 text-app-primay-dark">
                <h4 class="font-semibold text-sm">{{ testimonial.name }}</h4>
                <p class="font-normal text-xs">{{ testimonial.role }}</p>
              </div>
            </div>
          </li>
        }
      </ul>
      <!-- navigation buttons -->
      <ul class="flex flex-col gap-6 mt-24">
        <li>
          <button
            class="w-8 h-8 rounded-full flex items-center justify-center bg-app-primay-dark text-white transition-transform duration-300 ease-out origin-center hover:scale-110 active:scale-90"
            (click)="navigateHandler('up')"
          >
            <svg
              width="12"
              height="13"
              viewBox="0 0 12 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.9821 0.272058C6.62417 -0.0906858 6.04289 -0.0906858 5.68495 0.272058L1.10341 4.91517C0.745478 5.27792 0.745478 5.86701 1.10341 6.22976C1.46134 6.5925 2.04263 6.5925 2.40056 6.22976L5.41865 3.1682L5.41865 12.0714C5.41865 12.585 5.82813 13 6.33496 13C6.84179 13 7.25127 12.585 7.25127 12.0714L7.25127 3.1711L10.2694 6.22685C10.6273 6.5896 11.2086 6.5896 11.5665 6.22685C11.9244 5.86411 11.9244 5.27501 11.5665 4.91227L6.98497 0.269156L6.9821 0.272058Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </li>
        <li>
          <button
            class="w-8 h-8 rounded-full flex items-center justify-center bg-white border border-solid border-app-primay-dark text-app-primay-dark transition-transform duration-300 ease-out origin-center hover:scale-110 active:scale-90"
            (click)="navigateHandler('down')"
          >
            <svg
              width="14"
              height="13"
              viewBox="0 0 14 13"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M7.9821 12.7279C7.62417 13.0907 7.04289 13.0907 6.68495 12.7279L2.10341 8.08483C1.74548 7.72208 1.74548 7.13299 2.10341 6.77024C2.46134 6.4075 3.04263 6.4075 3.40056 6.77024L6.41865 9.8318L6.41865 0.928623C6.41865 0.414979 6.82813 0 7.33496 0C7.84179 0 8.25127 0.414979 8.25127 0.928623V9.8289L11.2694 6.77315C11.6273 6.4104 12.2086 6.4104 12.5665 6.77315C12.9244 7.13589 12.9244 7.72499 12.5665 8.08773L7.98497 12.7308L7.9821 12.7279Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </li>
      </ul>
    } @placeholder {
      <div></div>
    }
  </div>
</section>
